{% extends "base.html" %}

{% block title %}
DHT11
{% endblock %}

{% block headline %}
Temperature & Humidity
{% endblock %}

{% block content %}
<h2>Daily</h2>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
<canvas id="temperatureDailyChart"></canvas>
<script>
  var ctx = document.getElementById("temperatureDailyChart");
  var dailyTemperatureData = {
    labels: [
      {% for item in label_daily %}
        '{{item.strip("'")}}',
      {% endfor %}
    ],
    datasets: [
      {% for temperature_list in temperature_daily %}
      {
        label: '{{place_daily[loop.index0]}}',
        data: {{temperature_list}},
        tension: 0.3,
        pointRadius: 0,
        borderColor: "rgba(255,0,0,1)",
        backgroundColor: "rgba(0,0,0,0)"
      },
      {% endfor %}
    ],
  };
  var dailyTemperatureOptions = {
    title: {
      display: true,
      text: '気温({{label_daily[0]}}～{{label_daily[-1]}})'
    },
    scales: {
      yAxes: [{
        ticks: {
          stepSize: 1,
          callback: function(value, index, values){
            return  value +  '℃'
          }
        }
      }]
    },
  };
  var myLineChart = new Chart(ctx, {
    type: 'line',
    data: dailyTemperatureData,
    options: dailyTemperatureOptions
  });
</script>
<canvas id="humidityDailyChart"></canvas>
<script>
  var ctx = document.getElementById("humidityDailyChart");
  var dailytHumidityData = {
    labels: [
      {% for item in label_daily %}
        '{{item.strip("'")}}',
      {% endfor %}
    ],
    datasets: [
      {% for humidity_list in humidity_daily %}
      {
        label: '{{place_daily[loop.index0]}}',
        data: {{humidity_list}},
        tension: 0.3,
        pointRadius: 0,
        borderColor: "rgba(0,0,255,1)",
        backgroundColor: "rgba(0,0,0,0)"
      },
      {% endfor %}
    ],
  };
  var dailytHumidityOptions = {
    title: {
      display: true,
      text: '湿度({{label_daily[0]}}～{{label_daily[-1]}})'
    },
    scales: {
      yAxes: [{
        ticks: {
          stepSize: 1,
          callback: function(value, index, values){
            return  value +  '%'
          }
        }
      }]
    },
  };
  var myLineChart = new Chart(ctx, {
    type: 'line',
    data: dailytHumidityData,
    options: dailytHumidityOptions
  });
</script>

<h2>Weekly</h2>
<canvas id="temperatureWeeklyChart"></canvas>
<script>
  var ctx = document.getElementById("temperatureWeeklyChart");
  var weeklyTemperatureData = {
    labels: [
      {% for item in label_weekly %}
        '{{item.strip("'")}}',
      {% endfor %}
    ],
    datasets: [
      {% for temperature_list in temperature_weekly %}
      {
        label: '{{place_weekly[loop.index0]}}',
        data: {{temperature_list}},
        tension: 0.3,
        pointRadius: 0,
        borderColor: "rgba(255,0,0,1)",
        backgroundColor: "rgba(0,0,0,0)"
      },
      {% endfor %}
    ],
  };
  var weeklyTemperatureOptions = {
    title: {
      display: true,
      text: '気温({{label_weekly[0]}}～{{label_weekly[-1]}})'
    },
    scales: {
      yAxes: [{
        ticks: {
          stepSize: 1,
          callback: function(value, index, values){
            return  value +  '℃'
          }
        }
      }]
    },
  };
  var myLineChart = new Chart(ctx, {
    type: 'line',
    data: weeklyTemperatureData, 
    options: weeklyTemperatureOptions
  });
</script>

<canvas id="humidityWeeklyChart"></canvas>
<script>
  var ctx = document.getElementById("humidityWeeklyChart");
  var weeklyHumidityData = {
    labels: [
      {% for item in label_weekly %}
        '{{item.strip("'")}}',
      {% endfor %}
    ],
    datasets: [
    {% for humidity_list in humidity_weekly %}
      {
        label: '{{place_weekly[loop.index0]}}',
        data: {{humidity_list}},
        tension: 0.3,
        pointRadius: 0,
        borderColor: "rgba(0,0,255,1)",
        backgroundColor: "rgba(0,0,0,0)"
      },
      {% endfor %}
    ],
  };
  var weeklyHumidityOptions = {
    title: {
      display: true,
      text: '湿度({{label_weekly[0]}}～{{label_weekly[-1]}})'
    },
    scales: {
      yAxes: [{
        ticks: {
          stepSize: 1,
          callback: function(value, index, values){
            return  value +  '%'
          }
        }
      }]
    },
  };
  var myLineChart = new Chart(ctx, {
    type: 'line',
    data: weeklyHumidityData,
    options: weeklyHumidityOptions
  });
</script>

<h2>Monthly</h2>
<canvas id="temperatureMonthlyChart"></canvas>
<script>
  var ctx = document.getElementById("temperatureMonthlyChart");
  var monthlyTemperatureData = {
    labels: [
      {% for item in label_monthly %}
        '{{item.strip("'")}}',
      {% endfor %}
    ],
    datasets: [
      {% for temperature_list in temperature_monthly %}
      {
        label: '{{place_monthly[loop.index0]}}',
        data: {{temperature_list}},
        tension: 0.3,
        pointRadius: 0,
        borderColor: "rgba(255,0,0,1)",
        backgroundColor: "rgba(0,0,0,0)"
      },
      {% endfor %}
    ],
  };
  var myLineChart = new Chart(ctx, {
    type: 'line',
    data: monthlyTemperatureData,
    options: {
      title: {
        display: true,
        text: '気温({{label_monthly[0]}}～{{label_monthly[-1]}})'
      },
      scales: {
        yAxes: [{
          ticks: {
            stepSize: 1,
            callback: function(value, index, values){
              return  value +  '℃'
            }
          }
        }]
      },
    }
  });
</script>

<canvas id="humidityMonthlyChart"></canvas>
<script>
  var ctx = document.getElementById("humidityMonthlyChart");
  var monthlyHumidityData = {
    labels: [
      {% for item in label_monthly %}
        '{{item.strip("'")}}',
      {% endfor %}
    ],
    datasets: [
      {% for humidity_list in humidity_monthly %}
      {
        label: '{{place_monthly[loop.index0]}}',
        data: {{humidity_list}},
        tension: 0.3,
        pointRadius: 0,
        borderColor: "rgba(0,0,255,1)",
        backgroundColor: "rgba(0,0,0,0)"
      },
      {% endfor %}
    ],
  };
  var myLineChart = new Chart(ctx, {
    type: 'line',
    data: monthlyHumidityData,
    options: {
      title: {
        display: true,
        text: '湿度({{label_monthly[0]}}～{{label_monthly[-1]}})'
      },
      scales: {
        yAxes: [{
          ticks: {
            stepSize: 1,
            callback: function(value, index, values){
              return  value +  '%'
            }
          }
        }]
      },
    }
  });
</script>

<h2>Yealy</h2>

{% endblock %}
